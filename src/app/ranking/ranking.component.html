<app-label-page
  label="Ranking"
  description="Explain what user can do in this page"
></app-label-page>
<app-table
  [headerTemplate]="headerTemplate"
  [rowTemplate]="rowTemplate"
  [content]="gamification"
></app-table>

<ng-template #headerTemplate>
  <tr>
    <ng-container *ngFor="let header of headersTable">
      <th>
        <ng-container *ngIf="header.isMilestone; else headerLabel">
          <div class="d-flex justify-content-center">
            <app-label
              label="{{ header.label }}"
              backgroundColor="{{ header.bgColor }}"
            ></app-label>
          </div>
        </ng-container>
        <ng-template #headerLabel>
          {{ header.label }}
        </ng-template>
      </th>
    </ng-container>
  </tr>
</ng-template>

<ng-template let-row let-rowIndex="$index" #rowTemplate >
  <tr>
    <td>{{ rowIndex }}</td>
    <td><i [class]="'pi ' + row.badge"></i></td>
    <td>{{ row.level }}</td>
    <td>{{ row.team.id }}</td>
    <ng-container *ngFor="let grade of row.grades | keyvalue">
      <td>{{ grade.value }}</td>
    </ng-container>
    <td>{{ row.points }}</td>
  </tr>
</ng-template>
